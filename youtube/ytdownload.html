<html>
<body>
<input type="text" name="video" id="video" class="text-field" placeholder="유튜브 영상 링크">
<button id="exec">GO!</button>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
function getId(url){
    var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;
    var match = url.match(regExp);
    return (match&&match[7].length==11)? match[7] : false;
}
</script>
<script type="text/javascript">
$(document).ready(function () {
    $("#exec").click(function () {
        var url = $.trim($("#video").val());
        if (url == "") {
            alert("영상 링크를 입력해주세요.");
            $("#video").focus();
        } else {
            var id = getId(url);
            if (!id) {
                alert("유튜브 링크가 아닙니다.");
                return;
            }
            $.ajax({
                url: "//swim.msub.kr/apis/select.php?video_id=" + window.btoa(id),
                type: "GET",
                dataType: "json",
                success: function (data) {
                    document.write(data);
                },
                error: function (request, status, error) {
                    alert("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
                }
            });
        }
    });
});
</script>
</body>
</html>
